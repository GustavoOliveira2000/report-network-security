\PassOptionsToPackage{usenames,dvipsnames,table}{xcolor}
\documentclass[sigconf,balance,nonacm,authordraft]{acmart}

% packages
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{commath}

\usepackage{graphicx}
\usepackage[caption=false,font=footnotesize]{subfig}
    
\usepackage{cleveref}

% algorithms
\usepackage{algorithm,algpseudocode}
 
% For syntax highlighting
\usepackage{specs}

\usepackage{soul}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage[nolist,nohyperlinks]{acronym}
\usepackage{xspace}
\usepackage{url}

\usepackage{pgfplots}
\pgfplotsset{width=10cm,compat=1.9} 


% document
\begin{document}

% acronyms
\begin{acronym}
\acro{DSL}{Domain-Specific Language}
\acro{HPC}{High-Performance Computing}
\acro{SSI}{Self-Sovereign Identity}
\acro{EUDI}{European Digital Identity}
\end{acronym}

% title and authors
\title{The Title of Your Work}

\author{Your Name}
\affiliation{%
  \institution{Department,\\Universidade}
  \city{City} 
  \country{Country} 
  \postcode{Postal Code}
}
\email{Your Email}


\begin{abstract}
This is the abstract. Here, you should provide a short summary of the entire work. You should include the following elements: your research problem and objectives, your methods, your key results, and your conclusion. Aim for 150 to 300 words.
\end{abstract}

\keywords{Your, Keywords, Go, Here}

\maketitle

% % % % % % % % % % % % % % % % % % % % %
% 			INTRODUCTION
% % % % % % % % % % % % % % % % % % % % %
\section{Introduction}
\label{sec:intro}
This section serves as the introduction to the work and it is likely the second thing readers will focus on, after the abstract. This section should contextualize your work, introducing the topic and the expected results. Usually, it is also in this section that authors include a brief summary of the main contributions of the work.

Additionally, you can have several subsections for topics such as the problem statement, the motivation for this work, and also any needed background information for unfamiliar readers. These can also be made into their own sections that follow the introduction. The problem statement is a short description of the problem that your work addresses, identifying the gaps between the current state and the desired future state. The motivation should sell the importance of this work and the reader should understand what is the impact of solving the identified problem.

% % % % % % % % % % % % % % % % % % % % %
% 	    Architectural Analysis
% % % % % % % % % % % % % % % % % % % % %
\section{Architectural Analysis}
\label{sec:ArchitecturalAnalysis}
The European Digital Identity Wallet Architecture and Reference Framework (ARF) defines the technical and organizational foundation for a secure, interoperable, and privacy-preserving digital identity ecosystem across the European Union.
It provides a modular architecture that ensures trust and interoperability among Member States while giving users full control over their digital identity credentials.

According to Sections 4.1–4.3.1 of the ARF, the system is designed around a Wallet Unit that interfaces with external entities through standardized protocols.
The architecture follows key design principles such as user-centricity, security- and privacy-by-design, and cross-border interoperability, ensuring that all components interact coherently within the regulatory scope of eIDAS 2.0 (Regulation 2024/1183).

\subsection{Design Principles}

The EUDI Wallet Architecture and Reference Framework (ARF) establishes a set of core design principles that guide the development and deployment of the European Digital Identity ecosystem. These principles ensure that all architectural components — from the Wallet Unit to the trust infrastructure — operate in a consistent, secure, and interoperable manner across Member States~\cite{EU_ARF2024}.

\subsubsection*{User-Centricity}
At the heart of the ARF is the concept of user-centricity, which prioritizes the individual's control over their identity data and credentials. Users are empowered to manage, store, and selectively disclose their digital identity attributes directly from their Wallet, ensuring transparency and autonomy in every interaction. This design choice reflects the shift towards Self-Sovereign Identity (SSI) models, where individuals, rather than institutions, own and govern their identity information.

\subsubsection*{Privacy- and Security-by-Design}
Privacy and security are embedded as foundational architectural principles, rather than optional layers. The ARF mandates that Wallet implementations adopt strong cryptographic protections for both data at rest and in transit. Mechanisms such as secure cryptographic devices (WSCD), proof-of-possession tokens, and mutual authentication between parties mitigate risks such as impersonation, credential replay, and unauthorized access. These mechanisms align with the \textit{privacy-by-design} obligations set forth under the General Data Protection Regulation (GDPR), ensuring that personal data processing is minimized, consent-based, and auditable~\cite{EU_eIDAS2024}.

\subsubsection*{Interoperability and Standardization}
To guarantee seamless cross-border usage, the ARF integrates globally recognized technical standards. These include the W3C Verifiable Credentials (VC 2.0) model for credential structure, the OpenID4VCI and OpenID4VP protocols for issuance and presentation, and ISO/IEC 18013-5 for mobile identity documents. By aligning with established standards from the W3C, IETF, OIDF, and ETSI, the ARF ensures interoperability between different Wallet Providers, Member States, and service domains, enabling a cohesive European identity ecosystem.

\subsubsection*{Modularity and Scalability}
The architecture is designed to be modular, allowing individual components — such as the Wallet backend, trust services, and identity providers — to evolve independently while maintaining compatibility. This modularity also enables scalability, supporting future integration of new services (e.g., electronic payments or digital health credentials) without requiring structural redesign.

\subsubsection*{Cross-Border Trust and Compliance}
Finally, the ARF upholds a unified trust and compliance framework that binds all Member States under common security and certification requirements. Through Qualified Trust Service Providers (QTSPs) and the EU Trusted List Registry, the framework guarantees that any Wallet or credential issued in one Member State is legally recognized and technically verifiable in another. This fosters a truly pan-European digital identity ecosystem that balances innovation, trust, and regulatory compliance.

\subsection{Identity Management}
Identity management in the ARF centers on the secure issuance, storage, and presentation of digital credentials, with a strong emphasis on user control and privacy. The Wallet Unit acts as the primary interface for users to manage their digital identities, supporting the storage of various types of credentials, including those issued by public authorities and private entities. The ARF mandates the use of strong authentication mechanisms, such as multi-factor authentication (MFA), to access the wallet and to authorize transactions. Furthermore, identity proofing and credential issuance are performed in compliance with eIDAS 2.0 requirements, ensuring high levels of assurance and interoperability across Member States~\cite{EU_ARF2024,EU_eIDAS2024}. The architecture also provides mechanisms for selective disclosure, allowing users to share only the minimum necessary information with relying parties, thereby enhancing privacy by design.

\subsection{Trust Services}
Trust services are fundamental to establishing and maintaining confidence in digital transactions within the European Digital Identity ecosystem. The ARF leverages qualified trust service providers (QTSPs) to deliver essential services such as electronic signatures, seals, timestamps, and electronic attestation of attributes. These services are integrated into the Wallet Unit, enabling users to sign documents, authenticate transactions, and verify the integrity and origin of data. The ARF ensures that trust services comply with the legal and technical requirements set out in eIDAS 2.0, including the use of qualified certificates and secure signature creation devices~\cite{EU_ARF2024,EU_eIDAS2024}. This integration supports cross-border recognition of trust services, facilitating seamless digital interactions throughout the EU.

\subsection{Data Exchange Protocols}
The ARF specifies standardized data exchange protocols to guarantee secure and interoperable communication between the Wallet Unit and external entities, such as issuers, verifiers, and other wallets. Protocols are based on open standards, including OpenID Connect (OIDC), SAML, and verifiable credential data models, which enable secure transmission of identity attributes and credentials. The framework mandates end-to-end encryption and mutual authentication to protect the confidentiality and integrity of exchanged data. Additionally, the protocols support consent management, ensuring that users are always informed and in control of the data shared with third parties~\cite{EU_ARF2024}. These measures promote interoperability and trust among diverse national and sectoral systems.

\subsection{Summary}
In summary, the ARF provides a robust architectural foundation for the European Digital Identity Wallet, addressing critical aspects such as identity management, trust services, and secure data exchange. By adhering to the principles of security, privacy, and interoperability, and by aligning with the regulatory framework of eIDAS 2.0, the ARF aims to foster a trustworthy and user-centric digital identity ecosystem across the EU~\cite{EU_ARF2024,EU_eIDAS2024}.

% % % % % % % % % % % % % % % % % % % % %
%        SELF-SOVEREIGN PRINCIPLES
% % % % % % % % % % % % % % % % % % % % %
\section{Self-Sovereign Principles}
\label{sec:ssi}

Self-Sovereign Identity (SSI) represents a paradigm shift in digital identity management, placing individuals at the centre of control over their personal data. Unlike traditional centralised systems where identity providers hold and assert credentials on behalf of users, SSI enables individuals to maintain their own cryptographically signed attestations and selectively reveal attributes when interacting with services. The European Digital Identity (EUDI) Wallet adapts these foundational SSI principles within a legally binding regulatory framework to meet the requirements of eIDAS 2.0 (Regulation 2024/1183). This section examines how the EUDI Wallet implements core SSI concepts: user sovereignty, verifiable credentials, selective disclosure, and privacy-enhancing techniques. It also highlights the architectural and governance differences that distinguish the EUDI Wallet from decentralised SSI implementations.

\subsection{User Control and Data Sovereignty}

The principle of user sovereignty, whereby individuals control the storage, management, and disclosure of their identity data, distinguishes SSI from traditional identity systems. In the EUDI ecosystem, credentials reside on the user's device rather than in centralised registries, and explicit consent is required before any attribute is shared with a relying party~\cite{ZKPDiscussion_Recital15,ZKPDiscussion_Article5a}. Citizens may request, select, store, delete, and share identity data at their discretion, and the wallet architecture prevents both issuers and verifiers from tracking user behaviour across transactions~\cite{ZKPDiscussion_Article5a}. 

Independent analyses confirm that the EUDI Wallet grants users complete control over their credentials, allowing them to decide what information to reveal, with whom, and when~\cite{Gataca_ARF_SSI,ISC2_PrivacyDataSovereignty}. This decentralised storage model ensures that personal data sovereignty remains with the holder rather than service providers. Under eIDAS 2.0, every Member State must provide at least one EUDI Wallet solution enabling citizens to access public and private services using their own verifiable credentials~\cite{PortoThesis_Requirements}. These provisions institutionalise data sovereignty as a fundamental right within the European digital identity ecosystem.

\subsection{Verifiable Credentials and Trust Frameworks}

The SSI model operates on a three-party trust relationship: issuers create digitally signed credentials, holders store them in their wallets, and verifiers accept cryptographic proofs of credential possession. The EUDI Architecture and Reference Framework (ARF) adopts this structure through Person Identification Data (PID) and Electronic Attestations of Attributes (EAAs), which are issued by qualified trust service providers under eIDAS 2.0~\cite{PortoThesis_Structure}. These attestations are cryptographically bound to the holder through device keys and can be independently verified without contacting the issuer.

Trust in this ecosystem is anchored through trust registries that allow verifiers to retrieve issuer metadata and validate certificate status, thereby supporting cross-border credential recognition~\cite{PortoThesis_Structure,Finextra_SSI_Components}. Crucially, the ARF does not mandate distributed ledger technologies. Instead, it relies on qualified trust service providers and public-private governance arrangements to establish trust~\cite{Finextra_SSI_Differences}. This approach distinguishes the EUDI Wallet from many blockchain-based SSI systems while maintaining the core verification benefits of cryptographically signed credentials.

\subsection{Selective Disclosure and Privacy-Enhancing Techniques}

Data minimisation, the practice of disclosing only the attributes necessary for a given transaction, is a cornerstone of SSI privacy protection. The ARF explicitly defines selective disclosure as the capability for the wallet to present a subset of user attributes from PID or EAA attestations~\cite{ARF_SelectDisclosureDefinition}. High-level requirements mandate that all PID and EAA credentials support selective disclosure through privacy-preserving formats such as selective-disclosure JSON Web Tokens (SD-JWT) or mobile security objects~\cite{ARF_AttestationSelectiveDisclosure}.

In practice, when a verifier requests proof of a specific attribute, the wallet constructs a presentation containing only the requested data. For example, a merchant can verify that a customer is over 18 years old without learning the customer's name, date of birth, or address~\cite{ISC2_SelectDisclosureExample,DocuSign_SelectDisclosure}. This capability reduces both privacy risks and fraud exposure while maintaining regulatory compliance.

The discussion on zero-knowledge proofs within the ARF emphasises the importance of privacy-preserving technologies that enable validators to confirm statements without accessing underlying personal data~\cite{ZKPDiscussion_Recital59}. Recital 59 of the regulation specifically calls for techniques like zero-knowledge proofs to validate claims while preserving privacy, and Article 5a mandates that wallets prevent correlation of presentations across different services~\cite{ZKPDiscussion_Recital59,ZKPDiscussion_Article5a}. These technical measures, combined with architectural requirements for unlinkability, ensure that data minimisation and privacy-by-design are embedded throughout the system~\cite{Potential_PrivacyDesign}.

\subsection{Interoperability and Security}

The EUDI Wallet architecture is guided by four foundational principles: user-centricity, interoperability, privacy by design, and security by design~\cite{ISC2_GuidingPrinciples}. User-centricity ensures that holders retain the authority to decide which credentials to present and may revoke consent at any time~\cite{ISC2_ConsentRole,Potential_UserCentricity}. Transparency regarding data sharing (what is shared, with whom, and for what purpose) is maintained throughout each transaction.

Interoperability is achieved through adherence to open standards such as OpenID Connect for verifiable presentations and the W3C verifiable credentials data model, combined with legal mechanisms under eIDAS 2.0 that ensure cross-border recognition of credentials and trust services~\cite{Finextra_SSI_Components}. This standardisation enables seamless interaction between national and sectoral systems across the European Union.

Privacy by design is operationalised through selective disclosure, zero-knowledge proofs, and architectural safeguards against tracking and linkability~\cite{ZKPDiscussion_Article5a,Potential_PrivacyDesign}. Security by design integrates strong authentication mechanisms, including multi-factor authentication, secure hardware for cryptographic key storage, and rigorous protocols for credential protection~\cite{ISC2_GuidingPrinciples,Potential_SecurityDesign}. Together, these principles adapt SSI concepts to a high-assurance, legally compliant framework that balances decentralisation with regulatory oversight.

\subsection{Differences from Decentralised SSI Implementations}

Although the EUDI Wallet incorporates core SSI principles, it diverges from pure decentralised identity systems in several significant ways. The eIDAS 2.0 architecture does not require blockchain or distributed ledger technologies; trust is instead anchored via qualified trust service providers operating under regulatory supervision~\cite{Finextra_SSI_Differences}. Credentials and electronic signatures issued within the EUDI ecosystem carry legal binding force under European law, providing a level of assurance not typically present in permissionless blockchain-based systems.

Furthermore, the EUDI Wallet operates within a hybrid public-private governance framework that balances the decentralisation benefits of SSI with government-mandated assurance levels and compliance requirements, including strong customer authentication under the Payment Services Directive (PSD2)~\cite{Finextra_SSI_Differences}. Standardised protocols and attestation formats ensure both interoperability and legal recognition. These architectural choices reflect a pragmatic adaptation of SSI principles to the regulatory and operational requirements of a continent-wide digital identity infrastructure.

\subsection{Summary}

The EUDI Wallet represents a synthesis of SSI principles and regulatory compliance, embedding user control, verifiable attestations, selective disclosure, and privacy-enhancing cryptography within a unified legal framework. By combining privacy-preserving techniques with trust registries and qualified service providers, the ARF enables European citizens to prove identity attributes across borders while maintaining sovereignty over their personal information~\cite{EU_ARF2024,EU_eIDAS2024}. The result is a hybrid identity system that empowers individuals, protects privacy, and fosters cross-border interoperability within the EU's digital single market.
% % % % % % % % % % % % % % % % % % % % %
% COMPLIANCE WITH SECURITY, PRIVACY, AND INTEROPERABILITY
% % % % % % % % % % % % % % % % % % % % %
\section{Compliance with Security, Privacy, and Interoperability}
\label{sec:compliance}

The European Digital Identity Wallet operates within a comprehensive regulatory framework that mandates strict compliance with security, privacy, and interoperability standards. The eIDAS 2.0 Regulation (EU 2024/1183) establishes legally binding requirements that harmonize digital identity services across all Member States while ensuring the highest levels of protection for citizens' personal data and cryptographic assets~\cite{EU_eIDAS2024}. This chapter examines how the EUDI Wallet architecture achieves compliance with three fundamental regulatory pillars: security requirements that protect against sophisticated attacks, privacy regulations that safeguard fundamental rights under the General Data Protection Regulation (GDPR), and interoperability standards that enable seamless cross-border recognition of credentials throughout the European Union. Together, these compliance frameworks form the foundation of a trustworthy digital identity ecosystem that balances innovation with robust legal safeguards.

\subsection{Security Compliance}

\subsubsection{Level of Assurance Requirements}

The EUDI Wallet must achieve and maintain a high Level of Assurance (LoA High) for electronic identification, representing the most stringent security tier defined under eIDAS 2.0. This assurance level requires the wallet to demonstrate resistance against attackers with high attack potential, ensuring that authentication and identification processes meet the confidence thresholds necessary for sensitive transactions such as border control, financial services, and access to confidential government systems. Article 8 of the original eIDAS Regulation establishes three levels of assurance—low, substantial, and high—each corresponding to different degrees of confidence in the claimed or asserted identity of a person. The EUDI Wallet targets LoA High to maximize both security and legal recognition across all use cases and Member States.

Achieving LoA High involves satisfying two distinct categories of requirements. First, procedural requirements govern the enrollment, authentication, and lifecycle management processes for digital identities, including identity proofing standards, credential issuance protocols, and mechanisms for revocation and renewal. Second, technical requirements relate to the robustness of the electronic identification means itself, encompassing cryptographic strength, secure key management, and protection against both logical and physical attacks. The Architecture and Reference Framework mandates that Wallet Instances interface with certified Wallet Secure Cryptographic Devices (WSCD) and Wallet Secure Cryptographic Applications (WSCA) to ensure that cryptographic operations meet LoA High standards~\cite{EU_ARF2024}. These components must undergo rigorous certification processes, often leveraging Common Criteria methodologies, to verify their resistance to sophisticated threat actors.

\subsubsection{Certification and Assessment}

Member States must establish national certification schemes that evaluate Wallet Solutions and the electronic identification schemes under which they operate. Commission Implementing Regulation (EU) 2024/2981, adopted in November 2024, specifies the functional, cybersecurity, and data protection standards that wallets must meet to ensure secure and interoperable digital identity solutions. Certification schemes must address the complete wallet architecture, including software components with their settings and configurations, as well as hardware components and platforms when directly provided or relied upon for critical operations.

Certification at LoA High requires vulnerability assessments aligned with Common Criteria evaluation methodologies, specifically targeting a level of AVA\_VAN.5 pursuant to Common Criteria standards. This assessment level ensures that the wallet can withstand attacks from adversaries possessing high attack potential, including nation-state actors and sophisticated cybercriminal organizations. The WSCD, responsible for managing cryptographic secrets such as private keys, must be certified under Common Criteria to provide a strong foundation for securing sensitive cryptographic operations. Many implementations leverage Secure Elements (SE) certified at Evaluation Assurance Level 4+ (EAL4+ with AVA\_VAN.5), which are widely deployed in modern smartphones and have proven track records in securing sensitive applications like payment cards and national identity documents.

The certification process also mandates regular vulnerability assessments and audits to maintain security integrity over time. Conformity Assessment Bodies (CABs), accredited by National Accreditation Bodies under Regulation (EC) No 765/2008, perform independent evaluations of Wallet Solutions. These assessments verify compliance with established security requirements, including resistance to known attack vectors, secure lifecycle management from manufacturing through retirement, and adherence to the cybersecurity objectives defined in Article 51 of Regulation (EU) 2019/881 (the Cybersecurity Act). Furthermore, the European Union Agency for Cybersecurity (ENISA) is developing a harmonized European cybersecurity certification scheme for EUDI Wallets under the Cybersecurity Act, which will eventually replace national schemes to ensure consistent security standards across the EU.

\subsubsection{Cryptographic Security Measures}

The EUDI Wallet architecture implements multiple layers of cryptographic protection to secure both stored credentials and data exchanges. All personal data and attestations stored within the Wallet Instance must be encrypted at rest using strong encryption algorithms, preventing unauthorized access even if an attacker gains physical access to the device. Additionally, all data transmitted between the wallet and external entities—including PID Providers, Attestation Providers, and Relying Parties—must be encrypted in transit using protocols such as Transport Layer Security (TLS) with appropriate cipher suites. These measures ensure confidentiality and integrity throughout the data lifecycle.

The Wallet Secure Cryptographic Device serves as the root of trust for cryptographic operations, securely generating, storing, and managing private keys associated with the user's digital identity. Cryptographic secrets must never be exported outside the WSCD, which typically resides in hardware-isolated environments such as embedded Secure Elements, Trusted Execution Environments (TEE), or Hardware Security Modules (HSM). This isolation prevents malware or compromised operating system components from extracting sensitive key material. The architecture also supports the use of external cryptographic devices, such as NFC-enabled national identity cards containing certified chips, which can provide additional security for high-assurance use cases.

Key management protocols ensure that cryptographic keys are generated with sufficient entropy, stored securely throughout their lifecycle, and destroyed or revoked when no longer needed or when compromise is suspected. The ARF specifies that key rotation and ephemeral session keys should be employed where feasible to prevent long-term tracking of user transactions. Furthermore, the wallet must support Qualified Electronic Signatures (QES), which require integration with Qualified Trust Service Providers (QTSP) and Qualified Signature Creation Devices (QSCD) to ensure that digitally signed documents carry the same legal weight as handwritten signatures across all Member States~\cite{EU_ARF2024,EU_eIDAS2024}.

\subsubsection{Authentication and Access Control}

User authentication to the EUDI Wallet must employ multi-factor authentication (MFA) mechanisms to prevent unauthorized access. Typically, this involves combining something the user knows (such as a PIN or password) with something the user has (the WSCD itself) and optionally something the user is (biometric authentication such as fingerprint or facial recognition). Biometric authentication, when used, must be processed locally on the device in secure hardware enclaves to prevent biometric data from being exposed to the operating system or transmitted to external servers.

The ARF mandates that authentication mechanisms align with strong customer authentication requirements under the Payment Services Directive 2 (PSD2), which similarly requires multi-factor authentication for payment transactions. The concept of Strong User Authentication (SUA) introduced in eIDAS 2.0 is designed to be virtually identical to PSD2's Strong Customer Authentication (SCA), facilitating integration with existing financial services infrastructure. However, the wallet must balance security with usability, ensuring that authentication flows do not impose excessive friction on users while maintaining robust protection against credential theft and session hijacking.

Access control within the wallet extends beyond user authentication to encompass fine-grained permissions for credential disclosure. Users must explicitly authorize each presentation of credentials to Relying Parties, with the wallet interface clearly displaying what information is being requested and for what purpose. The ARF requires that Wallet Instances alert users if a Relying Party requests additional data beyond what they have registered for, giving users the option to reject such transactions. This consent-based model ensures that users maintain meaningful control over their personal data and can prevent unauthorized or excessive data collection.

\subsection{Privacy Compliance}

\subsubsection{GDPR Alignment and Legal Framework}

The EUDI Wallet is designed to operate in full compliance with the General Data Protection Regulation (EU 2016/679), which establishes comprehensive rules for the processing of personal data within the European Union. The eIDAS 2.0 Regulation explicitly requires that all processing of personal data within the EUDI ecosystem be carried out in accordance with GDPR principles, particularly emphasizing privacy by design and privacy by default. Article 5a of eIDAS 2.0 introduces specific provisions for the protection of personal data in the context of digital identity wallets, mandating that personal data relating to wallet provision be kept logically separate from any other data held by wallet providers.

GDPR compliance begins with adherence to the core data processing principles articulated in Article 5(1) GDPR. The principle of lawfulness, fairness, and transparency requires that users be fully informed about what personal data is collected, for what purposes, and with whom it is shared. The wallet must provide clear, accessible information about data processing activities through user-friendly interfaces. The principle of purpose limitation ensures that personal data is collected for specified, explicit, and legitimate purposes and not further processed in ways incompatible with those purposes. The principle of data minimization—perhaps the most critical for digital identity systems—mandates that personal data shall be adequate, relevant, and limited to what is necessary in relation to the processing purposes~\cite{ZKPDiscussion_Recital15}.

The EUDI Wallet implements GDPR requirements through both architectural measures and user-facing features. Recital 15 of the EUDI Regulation emphasizes that citizens must be able to request, select, store, delete, and share identity data while enabling selective disclosure~\cite{ZKPDiscussion_Recital15}. This user empowerment aligns with the GDPR principle of giving data subjects control over their personal information. Additionally, the wallet must support data subject rights under GDPR, including the right of access (Article 15), the right to rectification (Article 16), the right to erasure (Article 17), and the right to data portability (Article 20). The wallet dashboard serves as the primary mechanism for users to exercise these rights.

\subsubsection{Data Minimization and Selective Disclosure}

Data minimization is implemented as a fundamental architectural principle in the EUDI Wallet, operationalized through selective disclosure capabilities that allow users to share only the specific attributes required for a given transaction. Recital 59 of the EUDI Regulation defines selective disclosure as the capability for the wallet to present only a subset of user attributes from Person Identification Data (PID) or Electronic Attestations of Attributes (EAA)~\cite{ZKPDiscussion_Recital59,ARF_SelectDisclosureDefinition}. The ARF mandates that all PID and (Qualified) EAA attestations must support selective disclosure using privacy-preserving formats such as Selective Disclosure JSON Web Tokens (SD-JWT) or mobile security objects based on ISO/IEC 18013-5~\cite{ARF_AttestationSelectiveDisclosure}.

Selective disclosure enables users to prove specific facts about themselves without revealing unnecessary personal information. For example, when purchasing age-restricted goods, a user can demonstrate that they are over a certain age threshold without disclosing their exact date of birth, full name, address, or other identifying details~\cite{ISC2_SelectDisclosureExample,DocuSign_SelectDisclosure}. This capability significantly reduces privacy risks and limits the potential for unauthorized profiling or tracking. The ARF provides concrete guidance on implementing age verification using the \texttt{age\_over\_NN} data elements defined in ISO/IEC 18013-5, which allow users to prove they meet age requirements for various thresholds (e.g., 16, 18, 21) without revealing their birthdate.

The technical implementation of selective disclosure relies on cryptographic protocols that bind disclosed attributes to the wallet's cryptographic credentials while selectively revealing only requested data. SD-JWT, specified by the Internet Engineering Task Force (IETF), achieves this by cryptographically hashing individual claims within a credential, allowing the wallet to construct presentations that include only the hashes of undisclosed claims and the plaintext values of disclosed ones. Relying Parties can verify that disclosed attributes are authentic and have not been tampered with, but they cannot access attributes that the user has chosen not to reveal. This approach provides mathematical guarantees of data minimization while maintaining the integrity and authenticity of presented credentials.

\subsubsection{Privacy-Enhancing Technologies}

Beyond selective disclosure, the EUDI ecosystem incorporates advanced privacy-enhancing technologies (PETs) to further protect user privacy. Zero-knowledge proofs (ZKPs) represent a particularly powerful technique that allows users to prove statements about their attributes without revealing the underlying data. Recital 59 of the regulation specifically calls for privacy-preserving technologies like zero-knowledge proofs to enable validation of statements without revealing personal data~\cite{ZKPDiscussion_Recital59}. For instance, a user could prove that their bank account balance exceeds a certain threshold without disclosing the exact amount, or prove membership in a professional organization without revealing their identity.

Zero-knowledge proofs provide stronger privacy guarantees than selective disclosure alone by eliminating the need to reveal any attribute values whatsoever. Instead, ZKPs enable cryptographic verification of predicates (logical statements) about attributes. However, the practical deployment of general-purpose ZKPs in the EUDI context faces challenges related to technical complexity, computational performance, and standardization. The ARF acknowledges these challenges and currently treats ZKPs as an evolving Discussion Topic, with ongoing work to develop practical specifications and implementations that balance privacy benefits with usability and efficiency constraints.

Article 5a(16) of eIDAS 2.0 requires that the wallet prevent attestation providers and relying parties from tracking user behavior and ensure unlinkability~\cite{ZKPDiscussion_Article5a,Potential_PrivacyDesign}. Unlinkability means that different transactions performed by the same user cannot be correlated by relying parties or other ecosystem actors, preventing the construction of comprehensive user profiles across services. The architecture achieves unlinkability through several mechanisms: prohibiting data collection on wallet usage, generating transaction-specific ephemeral keys, employing pseudonyms that differ across relying parties, and ensuring that credential presentations contain no persistent identifiers that enable cross-service tracking. These technical safeguards, combined with legal prohibitions on unauthorized profiling, create a privacy-preserving environment where users can interact with digital services without fear of ubiquitous surveillance.

\subsubsection{User Control and Transparency}

The EUDI Wallet embeds user control and transparency as foundational design principles, ensuring that individuals retain authority over their digital identities at all times~\cite{ISC2_GuidingPrinciples,Potential_UserCentricity}. Users must provide explicit consent before any credential presentation, with the wallet interface displaying exactly what information is being shared, with whom, and for what purpose~\cite{ISC2_ConsentRole}. This consent-based model aligns with GDPR requirements that personal data processing be based on the data subject's freely given, specific, informed, and unambiguous consent (Article 6(1)(a) GDPR).

Article 5a(4) of eIDAS 2.0 mandates that the wallet provide a common dashboard enabling users to view an up-to-date list of Relying Parties with which they have established connections and, where applicable, all data exchanged. The dashboard must support users in tracking all transactions executed through the wallet, including at minimum the time and date of each transaction, the counterpart identification, the personal data requested, and the data shared. Furthermore, the dashboard must enable users to quickly request erasure of personal data by a Relying Party under Article 17 GDPR (the "right to be forgotten") and to easily report Relying Parties to competent national Data Protection Authorities where allegedly unlawful or suspicious data requests are received.

Transparency extends to the governance of Relying Parties themselves. Relying Parties intending to use the EUDI Wallet must register in the Member State where they are established, specifying their intended use of the wallet including the exact data they will request and the reasons for doing so. This registration information is made publicly available online in a user-friendly format, allowing users and the wallet itself to verify that data requests align with registered purposes. The Wallet Unit must alert users if a Relying Party requests data beyond what they registered for, providing users with the option to reject such transactions. This architecture prevents over-identification—scenarios where Relying Parties request full identity disclosure when only specific attribute verification is necessary—and gives users meaningful control over data sharing practices.

\subsubsection{Pseudonymity and Unlinkability}

The EUDI Wallet must support user-generated pseudonyms that enable interactions with Relying Parties without revealing real-world identities except when legally required. Pseudonymous authentication serves as the default option, with full identification reserved for scenarios where legal obligations such as Know Your Customer (KYC) requirements or border control necessitate identity disclosure. Users can create and manage multiple pseudonyms, and Relying Parties cannot reject pseudonym-based authentication unless rejection is required by law.

To prevent pseudonyms from becoming tracking mechanisms, the Wallet Unit must generate pseudonyms local to each Relying Party, ensuring that different pseudonyms are used with different services. This prevents cross-RP correlation, whereby the use of the same pseudonym with multiple Relying Parties could enable those parties to link transactions and construct user profiles. The requirement for pseudonym unlinkability extends to all ecosystem participants, including PID Providers and Attestation Providers, who are prohibited from learning how users employ their issued credentials across different contexts. Article 5a(5) of eIDAS 2.0 explicitly requires that the wallet not provide any information to trust service providers of electronic attestations about the use of those attestations.

Data Protection Impact Assessments (DPIAs) are mandatory for Relying Parties prior to processing wallet data where assessments indicate high privacy risks. Recital 17 of eIDAS 2.0 requires Relying Parties to perform DPIAs and consult competent Data Protection Authorities before engaging in data processing activities that could result in high risk to individuals' rights and freedoms. This requirement ensures that privacy risks are systematically evaluated and mitigated before new use cases are deployed, and that independent oversight mechanisms can intervene when necessary to protect fundamental rights.

\subsection{Interoperability Compliance}

\subsubsection{Standards and Protocols}

Interoperability is achieved through the adoption of internationally recognized standards and protocols that ensure different Wallet Solutions can communicate seamlessly with issuers, verifiers, and other wallets across Member States. The Architecture and Reference Framework mandates compliance with multiple standardization bodies, including the World Wide Web Consortium (W3C), the Internet Engineering Task Force (IETF), the International Organization for Standardization (ISO), and the OpenID Foundation (OIDF)~\cite{EU_ARF2024,Finextra_SSI_Components}. This multi-standard approach balances the need for flexibility across diverse use cases with the requirement for consistent, verifiable interoperability.

For credential data models, the ARF requires support for both the W3C Verifiable Credentials Data Model 1.1 and ISO/IEC 18013-5:2021 formats. The W3C VC Data Model provides a flexible, extensible framework for representing credentials across a wide range of use cases, from government-issued identity documents to educational diplomas and professional licenses. ISO/IEC 18013-5, originally developed for mobile driving licenses (mDL), defines a mobile document (mdoc) format optimized for offline verification and proximity presentation scenarios, using Concise Binary Object Representation (CBOR) encoding for compact data structures.

The ARF specifies that PID attestations and qualified electronic attestations must be issued in accordance with both data models, with SD-JWT used for the W3C-based encoding and ISO/IEC 18013-5 mdoc format for the CBOR-based encoding. This dual-format requirement ensures that credentials can be presented in contexts favoring either online remote verification (where JSON-based formats are common) or offline proximity scenarios (where CBOR offers efficiency and is already widely deployed in ISO-compliant documents). The ability to support both formats enhances interoperability with existing systems while enabling future innovation.

\subsubsection{Presentation and Issuance Protocols}

For credential presentation, the EUDI Wallet implements distinct protocols depending on the interaction model. Remote presentation flows, where the user interacts with a Relying Party over the internet, utilize the OpenID for Verifiable Presentations (OpenID4VP) protocol in combination with the W3C Digital Credentials API. OpenID4VP extends the OAuth 2.0 authorization framework to support presentation of verifiable credentials, enabling Relying Parties to request specific attributes through standardized authorization requests and receive cryptographic proofs of credential possession and attribute validity. The protocol defines mechanisms for trust negotiation and mutual authentication, ensuring that both the wallet and the Relying Party can verify each other's legitimacy before exchanging sensitive information.

Proximity presentation flows, where the user is physically near the Relying Party (such as at a border checkpoint or retail point of sale), adhere to ISO/IEC 18013-5 standards. This specification defines how a secure communication channel is established using technologies such as NFC, Bluetooth Low Energy, or QR codes, and how presentation requests and responses are exchanged offline without requiring internet connectivity. The ability to operate offline is critical for scenarios where network access is unavailable or unreliable, and ISO/IEC 18013-5 has been widely tested and deployed in mobile driving license programs across multiple jurisdictions, providing a proven foundation for EUDI implementations.

Credential issuance follows the OpenID for Verifiable Credential Issuance (OpenID4VCI) protocol, which defines how PID Providers and Attestation Providers can securely issue credentials to Wallet Instances. OpenID4VCI supports both synchronous issuance, where credentials are delivered immediately upon request, and asynchronous issuance, where issuers perform background verification before credential delivery. The protocol includes mechanisms for requesting holder binding, ensuring that issued credentials are cryptographically bound to the user's WSCD keys and cannot be transferred to other devices or users without detection.

\subsubsection{Trust Infrastructure and Cross-Border Recognition}

Trust in the EUDI ecosystem is anchored through a hierarchical trust infrastructure that enables verifiers to validate credentials issued by providers in other Member States without requiring bilateral trust agreements. For ISO/IEC 18013-5-based credentials, the trust model employs an X.509-based Public Key Infrastructure (PKI) where each PID Provider operates an independent root certificate. Trust registries, maintained at the national and European levels, publish issuer metadata including certificate chains, public keys, and revocation information. Relying Parties query these registries to retrieve the cryptographic material necessary to verify credential signatures and validate issuer authenticity~\cite{PortoThesis_Structure,Finextra_SSI_Components}.

For W3C-based credentials using SD-JWT, trust frameworks based on OpenID Federation provide similar functionality through a distributed trust model. OpenID Federation allows entities such as PID Providers, Relying Parties, and Wallet Providers to establish trust relationships through cryptographic proofs and metadata exchanges, eliminating the need for pre-negotiated bilateral agreements. The federation model supports hierarchical trust chains where intermediate entities can vouch for leaf entities, enabling scalable trust propagation across the EU ecosystem. The ARF specifies that trust frameworks must support certificate revocation mechanisms, allowing issuers to invalidate compromised or expired credentials and ensuring that verifiers can reliably check credential status.

Cross-border recognition is a fundamental legal and technical requirement of eIDAS 2.0. Under the regulation, credentials issued by one Member State must be recognized and legally valid in all other Member States, eliminating the historical fragmentation where national eID schemes operated in isolation~\cite{Finextra_SSI_Differences}. This mutual recognition is underpinned by both technical interoperability—through common data formats, protocols, and trust mechanisms—and legal obligations that prohibit Member States from refusing credentials solely because they are issued in another jurisdiction. The ARF defines common attestation rulebooks that specify the structure, semantics, and legal value of credential types, ensuring that a driving license issued in Portugal is understood and accepted by verifiers in Finland using identical technical parameters.

\subsubsection{Attestation Rulebooks and Schema Catalogues}

To support diverse use cases across sectors, the ARF introduces the concept of attestation rulebooks and schema catalogues. An attestation rulebook defines the structure, attributes, and validation rules for a specific credential type, ensuring that all issuers and verifiers interpret the credential consistently. For example, the PID Rulebook specifies the mandatory and optional attributes for Person Identification Data, their data types, encoding formats (CBOR for ISO mdoc and JSON for SD-JWT), and the namespace identifiers that distinguish EU-wide attributes from national extensions.

The European Commission maintains a publicly accessible catalogue of attestation rulebooks for Qualified Electronic Attestations of Attributes (QEAA) and Public Electronic Attestations of Attributes (PuB-EAA) used within the EUDI ecosystem. This catalogue may also include rulebooks for non-qualified EAA to provide guidance for private sector attestations. Registration in the catalogue is voluntary and does not create automatic acceptance or cross-border recognition, but it facilitates discovery and understanding of available credential types. By publishing standardized rulebooks, the ARF enables Attestation Providers to know exactly how to structure credentials for specific use cases, and Relying Parties to request and validate attributes with confidence that they are correctly interpreting the data.

Schema catalogues similarly provide controlled vocabularies and attribute definitions that promote semantic interoperability. Rather than requiring each Member State or sector to independently define attribute names and data types, the catalogues establish common conventions that reduce ambiguity and integration effort. For instance, attributes related to date of birth, address, and educational qualifications are defined with consistent identifiers, formats, and legal interpretations, ensuring that automated systems can process credentials without manual mapping or translation. The ARF's modular architecture allows Member States to define national attributes within domestic namespaces while maintaining compatibility with the EU-wide core attribute set.

\subsubsection{Large-Scale Pilots and Continuous Testing}

The European Commission has launched Large-Scale Pilots (LSPs) to test the specifications in real-world use cases and validate interoperability across diverse implementations. The POTENTIAL consortium, one of the most prominent pilots, involves 19 European Member States plus Ukraine and over 140 public and private partners. Within POTENTIAL, real use cases such as bank account opening, SIM card registration, mobile driving licenses, qualified electronic signatures, e-prescriptions, and digital government services are being tested to evaluate the wallet's interoperability, security, and user-friendliness under operational conditions.

Feedback from the LSPs directly informs the evolution of the ARF and the reference implementation. The OpenID Foundation conducted a major interoperability demonstration in May 2025, where multiple implementers tested their OpenID4VP implementations against each other and against open-source conformance tests. Participants included the consortium developing the EUDI Wallet reference implementation (Scytáles and Netcompany-Intrasoft), as well as major technology vendors and service providers. The results of these interoperability events are shared with ISO/IEC working groups, informing the development of standards like ISO/IEC 18013-7 for online presentation flows.

Continuous testing and iterative refinement are essential to achieving robust interoperability in a complex ecosystem with diverse national systems, varying legal frameworks, and evolving technological capabilities. The ARF is designed to be flexible and adaptable, with regular updates that incorporate lessons learned from pilot deployments and changes in underlying standards. Version 1.4.0 of the ARF, published in April 2024, reflects substantial input from stakeholder consultations and technical validation, and further iterations are planned as implementing acts and certification schemes mature. This collaborative, evidence-based approach ensures that the EUDI Wallet ecosystem can scale successfully from pilot projects to full deployment by the end of 2026, when Member States are required to offer wallet solutions to all citizens and businesses~\cite{EU_ARF2024,EU_eIDAS2024}.

\subsection{Summary}

The EUDI Wallet's compliance with security, privacy, and interoperability requirements establishes a robust foundation for trustworthy digital identity across the European Union. Security compliance, achieved through Level of Assurance High certification, Common Criteria evaluations, and rigorous cryptographic protections, ensures that wallet implementations can withstand sophisticated attacks and safeguard sensitive user credentials. Privacy compliance, grounded in GDPR principles and operationalized through selective disclosure, zero-knowledge proofs, and user-centric dashboards, empowers individuals to control their personal data while minimizing unnecessary information sharing~\cite{ISC2_GuidingPrinciples,Potential_PrivacyDesign,Potential_SecurityDesign}. Interoperability compliance, built on internationally recognized standards from W3C, ISO, IETF, and OIDF, enables seamless credential exchange across borders and sectors, fostering a unified European digital identity ecosystem.

These three pillars of compliance are not independent but deeply interdependent. Security mechanisms such as cryptographic attestations and certified hardware components provide the technical foundation for privacy-enhancing features like selective disclosure and unlinkability. Interoperability standards ensure that security and privacy guarantees are consistently implemented across diverse Wallet Solutions and can be reliably verified by any compliant Relying Party. The harmonized legal framework of eIDAS 2.0, combined with implementing regulations and technical specifications in the ARF, creates a comprehensive governance structure that balances innovation with protection of fundamental rights.

The EUDI Wallet represents a landmark initiative in digital identity, demonstrating that it is possible to combine user sovereignty, cross-border interoperability, and regulatory compliance within a single, coherent architecture~\cite{Gataca_ARF_SSI,ISC2_PrivacyDataSovereignty}. By adhering to these compliance frameworks, the wallet aims to foster widespread adoption among citizens, businesses, and governments, ultimately realizing the vision of a secure, privacy-respecting, and universally accepted digital identity for all Europeans~\cite{EU_ARF2024,EU_eIDAS2024}.
% % % % % % % % % % % % % % % % % % % % %
% 			YOUR SOLUTION
% % % % % % % % % % % % % % % % % % % % %
\section{Your Solution}
\label{sec:solution}
In this section you will describe your work, both in form and function. That is, you should describe its structure/architecture, but also how it works, both internally and externally. Internally, any data structures and algorithms that you have used are relevant, especially if they were developed especially for this work. Externally, consider how an end-user would use your work.

Additionally, in this section you can also present the technical difficulties faced during the development, if and how they were overcome, and any limitations of the final product.

Artifacts such as code or API listings do not belong in this section. If they are important to the report and need to be included, they should be put in appendices at the end of the document.

% % % % % % % % % % % % % % % % % % % % %
% 			EXPERIMENTAL EVALUATION
% % % % % % % % % % % % % % % % % % % % %
\section{Experimental Evaluation}
\label{sec:evaluation}
In this section you can describe the experimental evaluation that your performed to evaluate your project.

\subsection{Experimental Setup}
In this subsection you present the setup you used to perform your tests. The benchmarks uses, the runtime system, the hardware, the methodology, and so on. This is needed for reproducibility purposes and for readers to understand how your work is more or less relevant in their own context.

\subsection{Experimental Results}
In this subsection you present the achieved results and you conduct an analysis of the experiments to see if the results obtained are what was expected according to your initial assumptions. If they are not, you are expected to understand and explain why.

% % % % % % % % % % % % % % % % % % % % %
% 			RELATED WORK
% % % % % % % % % % % % % % % % % % % % %
\section{Related Work}
\label{sec:rel}
In this section you can present other work that is relevant to your own research and development. Usually a short paragraph will explain how the other approach works and what are the main differences to your work, e.g., what problems were left open that you manage to solve or how you took a different approach and what are its pros and cons.

% % % % % % % % % % % % % % % % % % % % %
% 			CONCLUSIONS
% % % % % % % % % % % % % % % % % % % % %
\section{Conclusions}
\label{sec:conclusions}
In this section you present the main conclusions of your work in a summarized form. You can also present relevant future work on to to tackle current limitations and extend functionality.

% % % % % % % % % % % % % % % % % % % % %
%      USEFUL EXAMPLES (TO DELETE)
% % % % % % % % % % % % % % % % % % % % %
\section{Useful Examples}
\label{sec:examples}
This section, which you should delete later on, has examples on how to use some of Latex's most common features and environments.



\Cref{alg:memoi} presents a basic algorithm using the \textit{algorithmic} environment for pseudo-code.

This is how you make an unumbered list:
\begin{itemize}
    \item This is the first item;
    \item This is the second item;
    \item This is the final item.
    \item asd
\end{itemize}

Whenever you cite someone else's work, you need to include a reference to the relevant source. This is how you make a citation~\cite{Michie1968}. You can also cite multiple sources at once like this~\cite{Strachey2000,Connors2000}. The references need to be present in the \textit{refs.bib} file.



 shows you how to include a figure. By default, Latex uses PNG or PDF formats for figures.

If you need to include equations, you can use Latex's excellent math environments. Here is a simple example of an equation:
\begin{equation}\label{eq:log}
    O(i, j) = c \times \log{(1+I(i, j))},
\end{equation}
where $c$ is a constant, $I$ is the input, $O$ is the output, and $i$ and $j$ are the image coordinates.

You can use the acronym package to help manage acronyms. The first time you use an acronym, its full form will be displayed, e.g., \ac{DSL} or \ac{HPC}. However, the following times, only the short version will be used, as in \ac{DSL} or \ac{HPC}. You can also use the plural form of acronyms, e.g., \acp{DSL}. The list of known acronyms is defined in the preamble of the document.



If you want to include code, you can also do so by using the listings package. Here is an example of how to do it. \Cref{fig:code} presents an example of how to include source code.

Finally, tables can also be a good option to present data. \Cref{tab:table1} gives you an example of how to generate tables. Notice that the caption appears above the table, contrary to what happens with figures.

\begin{table}[b]
\caption{This is the table caption.}
\label{tab:table1}
\footnotesize
\begin{tabular}{lll}
\toprule
         & machine A                   & machine B                           \\
\midrule
CPU      & Intel Core i7-9700 CPU      & 2x Intel Xeon E5-2630 v3            \\
CPU Frequency& 3.00GHz                     & 2.40GHz                             \\
RAM      & 16GB DDR4                   & 128GB                               \\
OS       & Ubuntu 20.04 LTS            & Ubuntu 16.04 LTS                    \\
Compiler & GCC 9.3                     & GCC 7.3                             \\
libm     & v2.31                       & v2.23                               \\
libomp   & v4.5                        & v4.5                                \\
\bottomrule
\end{tabular}
\end{table}

% % % % % % % % % % % % % % % % % % % % %
% 			ACKNOWLEDGMENTS
% % % % % % % % % % % % % % % % % % % % %
\section*{Acknowledgments}
The author would like to acknowledge \ldots

% % % % % % % % % % % % % % % % % % % % %
% 			BIBLIOGRAPHY
% % % % % % % % % % % % % % % % % % % % %
\bibliographystyle{ACM-Reference-Format}
\bibliography{refs}

\end{document}
